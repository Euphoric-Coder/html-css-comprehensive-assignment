:root{
  --primary-color: #3b82f6;
  --secondary-color: #64748b;
  --success-color: #10b981;
  --warning-color: #f59e0b;
  --danger-color: #ef4444;
  --sidebar-width: 280px;
  --header-height: 70px;

  --bg: #0b1220;
  --panel: #0f172a;
  --line: rgba(148,163,184,.18);
  --text: #e2e8f0;
  --muted: #94a3b8;

  --radius: 12px;
  --gap: 1rem;
  --shadow: 0 10px 30px rgba(0,0,0,.25);
}

*,
*::before,
*::after { box-sizing: border-box; }
html, body { height:100%; }
body { margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial; color:var(--text); background: var(--bg); }

.dashboard-layout{
  display:grid;
  grid-template-areas:
    "sidebar header"
    "sidebar main";
  grid-template-columns: var(--sidebar-width) 1fr;
  grid-template-rows: var(--header-height) 1fr;
  height:100vh;
}

/* Sidebar */
.sidebar{
  grid-area: sidebar;
  position: sticky; top:0; height:100vh;
  background: var(--panel);
  border-right: 1px solid var(--line);
  display:flex; flex-direction:column; justify-content:space-between;
}
.sidebar__top{ padding: 1rem; }
.logo{ padding:.75rem; border:1px solid var(--line); border-radius: var(--radius); background: #0c1832; }
.side-nav{ display:grid; gap:.25rem; margin-top:.75rem; }
.side-link{
  text-decoration:none; color: var(--muted); padding:.6rem .8rem; border-radius:10px; display:block;
}
.side-link:hover, .side-link.is-active{ color:var(--text); background: rgba(148,163,184,.1); }
.sidebar__bottom{ padding: 1rem; border-top:1px solid var(--line); }
.user{ display:flex; align-items:center; gap:.75rem; }
.user img{ width:40px; height:40px; border-radius:50%; border:1px solid var(--line); }

/* Header */
.header{
  grid-area: header;
  position: sticky; top:0;
  background: rgba(15,23,42,.9);
  backdrop-filter: blur(8px);
  border-bottom: 1px solid var(--line);
  display:grid; grid-template-columns: 1fr 380px 160px; gap: var(--gap);
  align-items:center; padding: 0 1rem;
}
.page-title{ font-size: clamp(1rem, 2vw, 1.25rem); }
.search input{
  width:100%; padding:.6rem .75rem; border-radius:10px; background:#0c1832; color:var(--text);
  border:1px solid var(--line);
}
.header-actions{ display:flex; align-items:center; gap:.5rem; }
.btn{ padding:.55rem .8rem; border-radius:10px; border:1px solid var(--line); background:#0c1832; color:var(--text); }
.btn--icon{ width:42px; height:42px; display:grid; place-items:center; }

/* Dropdown (CSS only) */
.dropdown{ position:relative; }
.dropdown .menu{
  position:absolute; right:0; top:calc(100% + 8px); min-width: 200px; background:#0c1832;
  border:1px solid var(--line); border-radius:10px; display:none; box-shadow: var(--shadow);
}
.dropdown:hover .menu{ display:grid; }
.dropdown .menu button{ text-align:left; padding:.6rem .75rem; color:var(--text); background:transparent; border:none; border-bottom:1px solid var(--line); }
.dropdown .menu button:last-child{ border-bottom:none; }
.dropdown .menu button:hover{ background: rgba(148,163,184,.08); cursor:pointer; }

/* Main */
.main{ grid-area: main; padding: 1rem; overflow:auto; display:grid; align-content:start; gap: 1rem; }

/* Stats */
.stats-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
}
.card{ background:#0c1832; border:1px solid var(--line); border-radius: var(--radius); padding: 1rem; }
.stat{ display:grid; grid-template-columns: 40px 1fr auto; grid-template-rows:auto auto; column-gap:.75rem; row-gap:.35rem; align-items:center; }
.stat__icon{ grid-row: span 2; font-size:1.4rem; }
.stat__value{ font-size: clamp(1.25rem, 2.4vw, 1.75rem); font-weight:700; }
.stat__label{ color: var(--muted); font-size:.9rem; }
.stat__delta{ font-weight:700; }
.stat__delta.is-up{ color: var(--success-color); }
.stat__delta.is-down{ color: var(--danger-color); }

/* Tables */
.tables{ display:grid; gap: 1rem; }
.table-card{ background:#0c1832; border:1px solid var(--line); border-radius: var(--radius); }
.table-card__header{ display:flex; justify-content:space-between; align-items:baseline; padding: .85rem 1rem; border-bottom:1px solid var(--line); color: var(--muted); }
.table-wrap{ overflow:auto; }
.table{ width:100%; border-collapse:collapse; min-width:720px; }
th, td{ padding:.75rem 1rem; border-bottom:1px solid var(--line); text-align:left; }
thead th{ position:sticky; top:0; background:#0c1832; z-index:1; }
tbody tr:nth-child(even){ background: rgba(148,163,184,.06); }
tr:hover td{ background: rgba(148,163,184,.08); }
.sortable{ cursor: ns-resize; opacity:.9; }
.badge{ padding:.15rem .5rem; border-radius:999px; font-size:.8rem; border:1px solid transparent; }
.badge--success{ color:#10b981; border-color:#10b981; background:rgba(16,185,129,.08); }
.badge--warning{ color:#f59e0b; border-color:#f59e0b; background:rgba(245,158,11,.08); }
.badge--danger{ color:#ef4444; border-color:#ef4444; background:rgba(239,68,68,.08); }

/* Forms */
.form{ display:grid; gap: 1rem; padding: 1rem; }
.form-grid{ display:grid; gap:.75rem; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); }
label{ display:grid; gap:.35rem; font-weight:600; }
input[type="text"], input[type="number"], input[type="search"], input[type="file"], select{
  background:#0b1730; border:1px solid var(--line); color:var(--text); border-radius:10px; padding:.6rem .75rem;
}
input:focus, select:focus{ outline:none; border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(59,130,246,.35); }
.stack{ display:grid; gap:.35rem; }
.fieldset-inline{ display:flex; gap:.75rem; padding:.75rem; border:1px dashed var(--line); border-radius:10px; }
.btn-group{ display:flex; gap:.5rem; }
.btn.btn--primary{ background: var(--primary-color); border-color: #2563eb; color:white; }
.btn.btn--ghost{ background: transparent; }

/* Floating Action Button */
.fab{
  position: fixed; bottom: 16px; right: 16px; width:56px; height:56px; border-radius:50%;
  border:1px solid var(--line); background: var(--primary-color); color:white; font-size:1.25rem; box-shadow: var(--shadow);
}

/* Utilities */
.visually-hidden{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

/* ==========================================================================
   Responsive
   ========================================================================== */
@media (max-width: 768px){
  .dashboard-layout{
    grid-template-areas:
      "header"
      "main";
    grid-template-columns: 1fr;
    grid-template-rows: var(--header-height) 1fr;
  }
  .sidebar{ display:none; }
  .header{ grid-template-columns: 1fr auto auto; }
  .table{ min-width: 600px; }
  .stats-grid{ grid-template-columns: 1fr; }
}

@media (min-width: 768px) and (max-width: 1024px){
  :root{ --sidebar-width: 220px; }
  .table{ min-width: 680px; }
}
